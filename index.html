<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yew App</title>
    <link data-trunk rel="css" href="./src/output.css">
  </head>
  <body>
        <script src="https://cdn.ckeditor.com/ckeditor5/35.2.0/classic/ckeditor.js"></script>

        <script>
            function waitForElement(selector) {
                return new Promise(resolve => {
                    
                        if (document.querySelector(selector)) {
                        return resolve(document.querySelector(selector));
                    }

                    const observer = new MutationObserver(mutations => {
                        if (document.querySelector(selector)) {
                            resolve(document.querySelector(selector));
                            observer.disconnect();
                        }
                    });

                    observer.observe(document.body, {
                        childList: true,
                        subtree: true
                    });
                });
            }

            waitForElement("#editor").then((element) => {
                ClassicEditor
                    .create( document.querySelector( '#editor' ), {
                        removePlugins: [ 'Link', 'CKFinder' ],
                        toolbar: [ 'Heading', 'bold', 'italic', 'bulletedList', 'numberedList', 'blockQuote' ]
                    } )
                    .catch( error => {
                        console.error( error );
                    } );
            })
        </script>
  </body>
</html>
